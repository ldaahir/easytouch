import{_ as T}from"./AppTextField-9d8f30b5.js";import{f as i,I as U,J as L,K as a,k as e,P as o,u as t,ac as M,q as _,Q as h,G as q,H as F,$ as J}from"./frappe-ui-26ef7369.js";import{a as P,b as $,c as E,d as O}from"./auth-v2-register-illustration-light-16b6b233.js";import{m as G,a as H}from"./misc-mask-light-eb104613.js";import{u as K}from"./useAppAbility-6a639c07.js";import{_ as Q}from"./AuthProvider-e836c996.js";import{V as X,t as Y,i as z,o as W}from"./index-e1b913cd.js";import{u as y}from"./useGenerateImageVariant-8dfdbf90.js";import{r as V,f as Z,e as ee}from"./validators-50c95554.js";import{b as x}from"./route-block-83d24a4e.js";import{V as k}from"./VImg-9de85dec.js";import{a as n,V as w}from"./VRow-a794fb6c.js";import{V as te,d as I}from"./VCard-98364713.js";import{V as ae}from"./VForm-d2878bb6.js";import{V as se}from"./VCheckbox-ad265177.js";import{V as S}from"./VDivider-66cdee18.js";import"./VInput-ea621834.js";import"./transition-6a62c7af.js";import"./VTextField-ae5a2228.js";/* empty css                   */import"./VField-f7afb4c1.js";import"./easing-512405f0.js";import"./forwardRefs-bb5e4b03.js";import"./VCounter-b723ae3f.js";import"./index-61e4df1a.js";import"./VAvatar-7de7fc90.js";import"./VCheckboxBtn-fb30a6d7.js";import"./VSelectionControl-9d86a850.js";const oe={class:"position-relative bg-background rounded-lg w-100 ma-8 me-0"},re={class:"d-flex align-center justify-center w-100 h-100"},le=o("h5",{class:"text-h5 mb-1"}," Adventure starts here ðŸš€ ",-1),ne=o("p",{class:"mb-0"}," Make your app management easy and fun! ",-1),ie={class:"d-flex align-center mt-2 mb-4"},ue=o("span",{class:"me-1"},[h(" I agree to "),o("a",{href:"javascript:void(0)",class:"text-primary"},"privacy policy & terms")],-1),me=o("span",null,"Already have an account?",-1),de=o("span",{class:"mx-4"},"or",-1),ce={__name:"register",setup(pe){const b=i(),m=i("johnDoe"),d=i("john@example.com"),c=i("john@VUEXY#123"),g=i(!0),v=q(),R=F(),C=K(),D=i({email:void 0,password:void 0}),A=()=>{W.post("/auth/register",{username:m.value,email:d.value,password:c.value}).then(r=>{const{accessToken:s,userData:u,userAbilities:f}=r.data;return localStorage.setItem("userAbilities",JSON.stringify(f)),C.update(f),localStorage.setItem("userData",JSON.stringify(u)),localStorage.setItem("accessToken",JSON.stringify(s)),R.replace(v.query.to?String(v.query.to):"/"),null}).catch(r=>{const{errors:s}=r.response.data;D.value=s,console.error(r.response.data)})},N=y(O,E,$,P,!0),j=y(H,G),p=i(!1),B=()=>{var r;(r=b.value)==null||r.validate().then(({valid:s})=>{s&&A()})};return(r,s)=>{const u=T,f=J("RouterLink");return U(),L(w,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:a(()=>[e(n,{lg:"8",class:"d-none d-lg-flex"},{default:a(()=>[o("div",oe,[o("div",re,[e(k,{"max-width":"441",src:t(N),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),e(k,{class:"auth-footer-mask",src:t(j)},null,8,["src"])])]),_:1}),e(n,{cols:"12",lg:"4",class:"d-flex align-center justify-center"},{default:a(()=>[e(te,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:a(()=>[e(I,null,{default:a(()=>[e(t(X),{nodes:t(Y).app.logo,class:"mb-6"},null,8,["nodes"]),le,ne]),_:1}),e(I,null,{default:a(()=>[e(t(ae),{ref_key:"refVForm",ref:b,onSubmit:M(B,["prevent"])},{default:a(()=>[e(w,null,{default:a(()=>[e(n,{cols:"12"},{default:a(()=>[e(u,{modelValue:t(m),"onUpdate:modelValue":s[0]||(s[0]=l=>_(m)?m.value=l:null),autofocus:"",rules:[t(V),t(Z)],label:"Username"},null,8,["modelValue","rules"])]),_:1}),e(n,{cols:"12"},{default:a(()=>[e(u,{modelValue:t(d),"onUpdate:modelValue":s[1]||(s[1]=l=>_(d)?d.value=l:null),rules:[t(V),t(ee)],label:"Email",type:"email"},null,8,["modelValue","rules"])]),_:1}),e(n,{cols:"12"},{default:a(()=>[e(u,{modelValue:t(c),"onUpdate:modelValue":s[2]||(s[2]=l=>_(c)?c.value=l:null),rules:[t(V)],label:"Password",type:t(p)?"text":"password","append-inner-icon":t(p)?"tabler-eye-off":"tabler-eye","onClick:appendInner":s[3]||(s[3]=l=>p.value=!t(p))},null,8,["modelValue","rules","type","append-inner-icon"]),o("div",ie,[e(se,{id:"privacy-policy",modelValue:t(g),"onUpdate:modelValue":s[4]||(s[4]=l=>_(g)?g.value=l:null),rules:[t(V)],inline:""},{label:a(()=>[ue]),_:1},8,["modelValue","rules"])]),e(z,{block:"",type:"submit"},{default:a(()=>[h(" Sign up ")]),_:1})]),_:1}),e(n,{cols:"12",class:"text-center text-base"},{default:a(()=>[me,e(f,{class:"text-primary ms-2",to:{name:"login"}},{default:a(()=>[h(" Sign in instead ")]),_:1})]),_:1}),e(n,{cols:"12",class:"d-flex align-center"},{default:a(()=>[e(S),de,e(S)]),_:1}),e(n,{cols:"12",class:"text-center"},{default:a(()=>[e(Q)]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})}}};typeof x=="function"&&x(ce);export{ce as default};
//# sourceMappingURL=register-e72fb7d5.js.map
