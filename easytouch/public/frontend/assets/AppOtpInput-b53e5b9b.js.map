{"version":3,"file":"AppOtpInput-b53e5b9b.js","sources":["../../../../frontend/src/@core/components/app-form-elements/AppOtpInput.vue"],"sourcesContent":["<script setup>\nconst props = defineProps({\n  totalInput: {\n    type: Number,\n    required: false,\n    default: 6,\n  },\n  default: {\n    type: String,\n    required: false,\n    default: '',\n  },\n})\n\nconst emit = defineEmits(['updateOtp'])\n\nconst digits = ref([])\nconst refOtpComp = ref(null)\n\ndigits.value = props.default.split('')\n\nconst defaultStyle = { style: 'max-width: 54px; text-align: center;' }\n\n// eslint-disable-next-line sonarjs/cognitive-complexity\nconst handleKeyDown = (event, index) => {\n  if (event.code !== 'Tab' && event.code !== 'ArrowRight' && event.code !== 'ArrowLeft')\n    event.preventDefault()\n  if (event.code === 'Backspace') {\n    digits.value[index - 1] = ''\n    if (refOtpComp.value !== null && index > 1) {\n      const inputEl = refOtpComp.value.children[index - 2].querySelector('input')\n      if (inputEl)\n        inputEl.focus()\n    }\n  }\n  const numberRegExp = /^([0-9])$/\n  if (numberRegExp.test(event.key)) {\n    digits.value[index - 1] = event.key\n    if (refOtpComp.value !== null && index !== 0 && index < refOtpComp.value.children.length) {\n      const inputEl = refOtpComp.value.children[index].querySelector('input')\n      if (inputEl)\n        inputEl.focus()\n    }\n  }\n  emit('updateOtp', digits.value.join(''))\n}\n</script>\n\n<template>\n  <div>\n    <h6 class=\"text-h6 mb-3\">\n      Type your 6 digit security code\n    </h6>\n    <div\n      ref=\"refOtpComp\"\n      class=\"d-flex align-center gap-4\"\n    >\n      <AppTextField\n        v-for=\"i in props.totalInput\"\n        :key=\"i\"\n        :model-value=\"digits[i - 1]\"\n        v-bind=\"defaultStyle\"\n        maxlength=\"1\"\n        @keydown=\"handleKeyDown($event, i)\"\n      />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\">\n.v-field__field {\n  input {\n    padding: 0.5rem;\n    font-size: 1.25rem;\n    text-align: center;\n  }\n}\n</style>\n"],"names":["digits","ref","refOtpComp","props","defaultStyle","handleKeyDown","event","index","inputEl","emit"],"mappings":"6YAgBAA,EAAAC,EAAA,EAAA,EACAC,EAAAD,EAAA,IAAA,EAEAD,EAAA,MAAAG,EAAA,QAAA,MAAA,EAAA,EAEA,MAAAC,EAAA,CAAA,MAAA,sCAAA,EAGAC,EAAA,CAAAC,EAAAC,IAAA,CAGA,GAFAD,EAAA,OAAA,OAAAA,EAAA,OAAA,cAAAA,EAAA,OAAA,aACAA,EAAA,eAAA,EACAA,EAAA,OAAA,cACAN,EAAA,MAAAO,EAAA,CAAA,EAAA,GACAL,EAAA,QAAA,MAAAK,EAAA,GAAA,CACA,MAAAC,EAAAN,EAAA,MAAA,SAAAK,EAAA,CAAA,EAAA,cAAA,OAAA,EACAC,GACAA,EAAA,MAAA,CACA,CAGA,GADA,YACA,KAAAF,EAAA,GAAA,IACAN,EAAA,MAAAO,EAAA,CAAA,EAAAD,EAAA,IACAJ,EAAA,QAAA,MAAAK,IAAA,GAAAA,EAAAL,EAAA,MAAA,SAAA,QAAA,CACA,MAAAM,EAAAN,EAAA,MAAA,SAAAK,CAAA,EAAA,cAAA,OAAA,EACAC,GACAA,EAAA,MAAA,CACA,CAEAC,EAAA,YAAAT,EAAA,MAAA,KAAA,EAAA,CAAA,CACA"}