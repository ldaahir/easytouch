var te=Object.defineProperty;var V=Object.getOwnPropertySymbols;var le=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable;var E=(l,u,a)=>u in l?te(l,u,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[u]=a,T=(l,u)=>{for(var a in u||(u={}))le.call(u,a)&&E(l,a,u[a]);if(V)for(var a of V(u))ae.call(u,a)&&E(l,a,u[a]);return l};import{a0 as ne,W as H,K as se,ac as ue,b1 as oe,J as ie,ai as ce,am as re,b2 as ve,ba as G,aR as fe,T as de,j as $,g as L,bg as me,a_ as pe}from"./index-e1b913cd.js";import{f as x,c as h,d as he,k as p}from"./frappe-ui-26ef7369.js";function W(l){const a=Math.abs(l);return Math.sign(l)*(a/((1/.501-2)*(1-a)+1))}function q(l){let{selectedElement:u,containerSize:a,contentSize:r,isRtl:S,currentScrollOffset:s,isHorizontal:o}=l;const t=o?u.clientWidth:u.clientHeight,i=o?u.offsetLeft:u.offsetTop,v=S&&o?r-i-t:i,c=a+s,g=t+v,y=t*.4;return v<=s?s=Math.max(v-y,0):c<=g&&(s=Math.min(s-(c-g-y),r-a)),s}function Se(l){let{selectedElement:u,containerSize:a,contentSize:r,isRtl:S,isHorizontal:s}=l;const o=s?u.clientWidth:u.clientHeight,t=s?u.offsetLeft:u.offsetTop,i=S&&s?r-t-o/2-a/2:t+o/2-a/2;return Math.min(r-a,Math.max(0,i))}const ge=Symbol.for("vuetify:v-slide-group"),ye=ne(T(T(T({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:ge},nextIcon:{type:H,default:"$next"},prevIcon:{type:H,default:"$prev"},showArrows:{type:[Boolean,String],validator:l=>typeof l=="boolean"||["always","desktop","mobile"].includes(l)}},se()),ue()),oe({selectedClass:"v-slide-group-item--active"})),"v-slide-group"),we=ie()({name:"VSlideGroup",props:ye(),emits:{"update:modelValue":l=>!0},setup(l,u){let{slots:a}=u;const{isRtl:r}=ce(),{mobile:S}=re(),s=ve(l,l.symbol),o=x(!1),t=x(0),i=x(0),v=x(0),c=h(()=>l.direction==="horizontal"),{resizeRef:g,contentRect:y}=G(),{resizeRef:f,contentRect:O}=G(),P=h(()=>s.selected.value.length?s.items.value.findIndex(e=>e.id===s.selected.value[0]):-1),B=h(()=>s.selected.value.length?s.items.value.findIndex(e=>e.id===s.selected.value[s.selected.value.length-1]):-1);if(fe){let e=-1;he(()=>[s.selected.value,y.value,O.value,c.value],()=>{cancelAnimationFrame(e),e=requestAnimationFrame(()=>{if(y.value&&O.value){const n=c.value?"width":"height";i.value=y.value[n],v.value=O.value[n],o.value=i.value+1<v.value}if(P.value>=0&&f.value){const n=f.value.children[B.value];P.value===0||!o.value?t.value=0:l.centerActive?t.value=Se({selectedElement:n,containerSize:i.value,contentSize:v.value,isRtl:r.value,isHorizontal:c.value}):o.value&&(t.value=q({selectedElement:n,containerSize:i.value,contentSize:v.value,isRtl:r.value,currentScrollOffset:t.value,isHorizontal:c.value}))}})})}const R=x(!1);let C=0,F=0;function K(e){const n=c.value?"clientX":"clientY";F=(r.value&&c.value?-1:1)*t.value,C=e.touches[0][n],R.value=!0}function N(e){if(!o.value)return;const n=c.value?"clientX":"clientY",d=r.value&&c.value?-1:1;t.value=d*(F+C-e.touches[0][n])}function X(e){const n=v.value-i.value;t.value<0||!o.value?t.value=0:t.value>=n&&(t.value=n),R.value=!1}function Y(){g.value&&(g.value[c.value?"scrollLeft":"scrollTop"]=0)}const k=x(!1);function j(e){if(k.value=!0,!(!o.value||!f.value)){for(const n of e.composedPath())for(const d of f.value.children)if(d===n){t.value=q({selectedElement:d,containerSize:i.value,contentSize:v.value,isRtl:r.value,currentScrollOffset:t.value,isHorizontal:c.value});return}}}function D(e){k.value=!1}function U(e){var n;!k.value&&!(e.relatedTarget&&((n=f.value)!=null&&n.contains(e.relatedTarget)))&&m()}function J(e){f.value&&(c.value?e.key==="ArrowRight"?m(r.value?"prev":"next"):e.key==="ArrowLeft"&&m(r.value?"next":"prev"):e.key==="ArrowDown"?m("next"):e.key==="ArrowUp"&&m("prev"),e.key==="Home"?m("first"):e.key==="End"&&m("last"))}function m(e){var n,d,z,w,M;if(f.value)if(!e)(n=me(f.value)[0])==null||n.focus();else if(e==="next"){const b=(d=f.value.querySelector(":focus"))==null?void 0:d.nextElementSibling;b?b.focus():m("first")}else if(e==="prev"){const b=(z=f.value.querySelector(":focus"))==null?void 0:z.previousElementSibling;b?b.focus():m("last")}else e==="first"?(w=f.value.firstElementChild)==null||w.focus():e==="last"&&((M=f.value.lastElementChild)==null||M.focus())}function _(e){const n=t.value+(e==="prev"?-1:1)*i.value;t.value=pe(n,0,v.value-i.value)}const Q=h(()=>{let e=t.value>v.value-i.value?-(v.value-i.value)+W(v.value-i.value-t.value):-t.value;t.value<=0&&(e=W(-t.value));const n=r.value&&c.value?-1:1;return{transform:`translate${c.value?"X":"Y"}(${n*e}px)`,transition:R.value?"none":"",willChange:R.value?"transform":""}}),A=h(()=>({next:s.next,prev:s.prev,select:s.select,isSelected:s.isSelected})),I=h(()=>{switch(l.showArrows){case"always":return!0;case"desktop":return!S.value;case!0:return o.value||Math.abs(t.value)>0;case"mobile":return S.value||o.value||Math.abs(t.value)>0;default:return!S.value&&(o.value||Math.abs(t.value)>0)}}),Z=h(()=>Math.abs(t.value)>0),ee=h(()=>v.value>Math.abs(t.value)+i.value);return de(()=>p(l.tag,{class:["v-slide-group",{"v-slide-group--vertical":!c.value,"v-slide-group--has-affixes":I.value,"v-slide-group--is-overflowing":o.value},l.class],style:l.style,tabindex:k.value||s.selected.value.length?-1:0,onFocus:U},{default:()=>{var e,n,d,z,w;return[I.value&&p("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!Z.value}],onClick:()=>_("prev")},[(n=(e=a.prev)==null?void 0:e.call(a,A.value))!=null?n:p($,null,{default:()=>[p(L,{icon:r.value?l.nextIcon:l.prevIcon},null)]})]),p("div",{key:"container",ref:g,class:"v-slide-group__container",onScroll:Y},[p("div",{ref:f,class:"v-slide-group__content",style:Q.value,onTouchstartPassive:K,onTouchmovePassive:N,onTouchendPassive:X,onFocusin:j,onFocusout:D,onKeydown:J},[(d=a.default)==null?void 0:d.call(a,A.value)])]),I.value&&p("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!ee.value}],onClick:()=>_("next")},[(w=(z=a.next)==null?void 0:z.call(a,A.value))!=null?w:p($,null,{default:()=>[p(L,{icon:r.value?l.prevIcon:l.nextIcon},null)]})])]}})),{selected:s.selected,scrollTo:_,scrollOffset:t,focus:m}}});export{we as V,ge as a,ye as m};
//# sourceMappingURL=VSlideGroup-5e21ae36.js.map
