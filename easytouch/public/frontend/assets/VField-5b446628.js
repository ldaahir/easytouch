var Z=Object.defineProperty,ee=Object.defineProperties;var le=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var T=(e,a,n)=>a in e?Z(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,s=(e,a)=>{for(var n in a||(a={}))ae.call(a,n)&&T(e,n,a[n]);if(w)for(var n of w(a))ne.call(a,n)&&T(e,n,a[n]);return e},E=(e,a)=>ee(e,le(a));import{k as l,c as v,f as I,E as te,d as ie,X as se,Y as oe,M as re,n as de}from"./frappe-ui-b8f10d89.js";import{J as O,K as A,T as D,a0 as ce,W as P,a1 as V,aO as ue,ah as ve,L as fe,M as ge,a9 as be,an as me,X as ye,ak as Ce,O as he,Q as pe,aa as _e,b5 as ke,b6 as Ie,av as Pe}from"./index-e43e3799.js";import{V as Ve,c as Fe,u as Se,d as Be}from"./VInput-545a0bfa.js";import{n as Le,a as xe,s as $e}from"./easing-512405f0.js";const p=O()({name:"VFieldLabel",props:s({floating:Boolean},A()),setup(e,a){let{slots:n}=a;return D(()=>l(Ve,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},n)),{}}}),Re=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],we=ce(s(s(s(s({appendInnerIcon:P,bgColor:String,clearable:Boolean,clearIcon:{type:P,default:"$clear"},active:Boolean,color:String,baseColor:String,dirty:Boolean,disabled:Boolean,error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:P,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Re.includes(e)},"onClick:clear":V(),"onClick:appendInner":V(),"onClick:prependInner":V()},A()),ue()),ve()),fe()),"v-field"),Te=O()({name:"VField",inheritAttrs:!1,props:s(s({id:String},Fe()),we()),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,a){let{attrs:n,emit:Ee,slots:t}=a;const{themeClasses:M}=ge(e),{loaderClasses:W}=be(e),{focusClasses:X,isFocused:F,focus:S,blur:B}=Se(e),{InputIcon:_}=Be(e),{roundedClasses:U}=me(e),g=v(()=>e.dirty||e.active),b=v(()=>!e.singleLine&&!!(e.label||t.label)),j=ye(),r=v(()=>e.id||`input-${j}`),q=v(()=>`${r.value}-messages`),L=I(),m=I(),x=I(),{backgroundColorClasses:J,backgroundColorStyles:K}=Ce(te(e,"bgColor")),{textColorClasses:$,textColorStyles:N}=he(v(()=>e.error||e.disabled?void 0:g.value&&F.value?e.color:e.baseColor));ie(g,u=>{if(b.value){const o=L.value.$el,d=m.value.$el;requestAnimationFrame(()=>{const c=Le(o),i=d.getBoundingClientRect(),y=i.x-c.x,C=i.y-c.y-(c.height/2-i.height/2),f=i.width/.75,h=Math.abs(f-c.width)>1?{maxWidth:pe(f)}:void 0,Y=getComputedStyle(o),R=getComputedStyle(d),z=parseFloat(Y.transitionDuration)*1e3||150,G=parseFloat(R.getPropertyValue("--v-field-label-scale")),H=R.getPropertyValue("color");o.style.visibility="visible",d.style.visibility="hidden",xe(o,s({transform:`translate(${y}px, ${C}px) scale(${G})`,color:H},h),{duration:z,easing:$e,direction:u?"normal":"reverse"}).finished.then(()=>{o.style.removeProperty("visibility"),d.style.removeProperty("visibility")})})}},{flush:"post"});const k=v(()=>({isActive:g,isFocused:F,controlRef:x,blur:B,focus:S}));function Q(u){u.target!==document.activeElement&&u.preventDefault()}return D(()=>{var y,C,f;const u=e.variant==="outlined",o=t["prepend-inner"]||e.prependInnerIcon,d=!!(e.clearable||t.clear),c=!!(t["append-inner"]||e.appendInnerIcon||d),i=t.label?t.label({label:e.label,props:{for:r.value}}):e.label;return l("div",de({class:["v-field",{"v-field--active":g.value,"v-field--appended":c,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":o,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!i,[`v-field--variant-${e.variant}`]:!0},M.value,J.value,X.value,W.value,U.value,e.class],style:[K.value,N.value,e.style],onClick:Q},n),[l("div",{class:"v-field__overlay"},null),l(_e,{name:"v-field",active:!!e.loading,color:e.error?"error":e.color},{default:t.loader}),o&&l("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&l(_,{key:"prepend-icon",name:"prependInner"},null),(y=t["prepend-inner"])==null?void 0:y.call(t,k.value)]),l("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&b.value&&l(p,{key:"floating-label",ref:m,class:[$.value],floating:!0,for:r.value},{default:()=>[i]}),l(p,{ref:L,for:r.value},{default:()=>[i]}),(C=t.default)==null?void 0:C.call(t,E(s({},k.value),{props:{id:r.value,class:"v-field__input","aria-describedby":q.value},focus:S,blur:B}))]),d&&l(ke,{key:"clear"},{default:()=>[se(l("div",{class:"v-field__clearable",onMousedown:h=>{h.preventDefault(),h.stopPropagation()}},[t.clear?t.clear():l(_,{name:"clear"},null)]),[[oe,e.dirty]])]}),c&&l("div",{key:"append",class:"v-field__append-inner"},[(f=t["append-inner"])==null?void 0:f.call(t,k.value),e.appendInnerIcon&&l(_,{key:"append-icon",name:"appendInner"},null)]),l("div",{class:["v-field__outline",$.value]},[u&&l(re,null,[l("div",{class:"v-field__outline__start"},null),b.value&&l("div",{class:"v-field__outline__notch"},[l(p,{ref:m,floating:!0,for:r.value},{default:()=>[i]})]),l("div",{class:"v-field__outline__end"},null)]),["plain","underlined"].includes(e.variant)&&b.value&&l(p,{ref:m,floating:!0,for:r.value},{default:()=>[i]})])])}),{controlRef:x}}});function Xe(e){const a=Object.keys(Te.props).filter(n=>!Ie(n)&&n!=="class"&&n!=="style");return Pe(e,a)}export{Te as V,Xe as f,we as m};
//# sourceMappingURL=VField-5b446628.js.map
