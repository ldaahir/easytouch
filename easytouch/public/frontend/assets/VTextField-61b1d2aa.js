var ee=Object.defineProperty,te=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var R=(e,l,n)=>l in e?ee(e,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[l]=n,v=(e,l)=>{for(var n in l||(l={}))T.call(l,n)&&R(e,n,l[n]);if(y)for(var n of y(l))A.call(l,n)&&R(e,n,l[n]);return e},g=(e,l)=>te(e,ne(l));var k=(e,l)=>{var n={};for(var a in e)T.call(e,a)&&l.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&y)for(var a of y(e))l.indexOf(a)<0&&A.call(e,a)&&(n[a]=e[a]);return n};/* empty css                   */import{m as le,f as ae,V as oe}from"./VField-5b446628.js";import{m as ue,u as ie,a as _}from"./VInput-545a0bfa.js";import{I as re}from"./VImg-dcfe0017.js";import{f as se}from"./forwardRefs-bb5e4b03.js";import{a0 as ce,J as de,Y as fe,T as me,Z as ve,b0 as xe}from"./index-e43e3799.js";import{c as C,f as h,k as o,n as F,X as Ve,a6 as ye,M as P,ak as ge,B as E}from"./frappe-ui-b8f10d89.js";import{V as ke}from"./VCounter-cc8846c3.js";const Ce=["color","file","time","date","datetime-local","week","month"],he=ce(v(v({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,type:{type:String,default:"text"},modelModifiers:Object},ue()),le()),"v-text-field"),Te=de()({name:"VTextField",directives:{Intersect:re},inheritAttrs:!1,props:he(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,l){let{attrs:n,emit:a,slots:u}=l;const s=fe(e,"modelValue"),{isFocused:d,focus:N,blur:j}=ie(e),z=C(()=>{var t;return typeof e.counterValue=="function"?e.counterValue(s.value):((t=s.value)!=null?t:"").toString().length}),J=C(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function O(t,i){var r,c;!e.autofocus||!t||(c=(r=i[0].target)==null?void 0:r.focus)==null||c.call(r)}const I=h(),p=h(),f=h(),U=C(()=>Ce.includes(e.type)||e.persistentPlaceholder||d.value);function x(){var t;f.value!==document.activeElement&&((t=f.value)==null||t.focus()),d.value||N()}function X(t){a("mousedown:control",t),t.target!==f.value&&(x(),t.preventDefault())}function Y(t){x(),a("click:control",t)}function Z(t){t.stopPropagation(),x(),E(()=>{s.value=null,xe(e["onClick:clear"],t)})}function q(t){var r;const i=t.target;if(s.value=i.value,(r=e.modelModifiers)!=null&&r.trim&&["text","search","password","tel","url"].includes(e.type)){const c=[i.selectionStart,i.selectionEnd];E(()=>{i.selectionStart=c[0],i.selectionEnd=c[1]})}}return me(()=>{const t=!!(u.counter||e.counter||e.counterValue),i=!!(t||u.details),[r,c]=ve(n),[Pe]=_.filterProps(e),b=Pe,{modelValue:Fe}=b,G=k(b,["modelValue"]),[H]=ae(e);return o(_,F({ref:I,modelValue:s.value,"onUpdate:modelValue":m=>s.value=m,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-text-field--flush-details":["plain","underlined"].includes(e.variant)},e.class],style:e.style},r,G,{focused:d.value}),g(v({},u),{default:m=>{let{id:V,isDisabled:w,isDirty:S,isReadonly:K,isValid:L}=m;return o(oe,F({ref:p,onMousedown:X,onClick:Y,"onClick:clear":Z,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},H,{id:V.value,active:U.value||S.value,dirty:S.value||e.dirty,disabled:w.value,focused:d.value,error:L.value===!1}),g(v({},u),{default:Q=>{let{props:$}=Q,M=$,{class:B}=M,W=k(M,["class"]);const D=Ve(o("input",F({ref:f,value:s.value,onInput:q,autofocus:e.autofocus,readonly:K.value,disabled:w.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:x,onBlur:j},W,c),null),[[ye("intersect"),{handler:O},null,{once:!0}]]);return o(P,null,[e.prefix&&o("span",{class:"v-text-field__prefix"},[e.prefix]),u.default?o("div",{class:B,"data-no-activator":""},[u.default(),D]):ge(D,{class:B}),e.suffix&&o("span",{class:"v-text-field__suffix"},[e.suffix])])}}))},details:i?m=>{var V;return o(P,null,[(V=u.details)==null?void 0:V.call(u,m),t&&o(P,null,[o("span",null,null),o(ke,{active:e.persistentCounter||d.value,value:z.value,max:J.value},u.counter)])])}:void 0}))}),se({},I,p,f)}});export{Te as V,he as m};
//# sourceMappingURL=VTextField-61b1d2aa.js.map
