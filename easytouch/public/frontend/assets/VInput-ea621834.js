var G=Object.defineProperty;var z=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var H=(e,s,t)=>s in e?G(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,p=(e,s)=>{for(var t in s||(s={}))Q.call(s,t)&&H(e,t,s[t]);if(z)for(var t of z(s))Z.call(s,t)&&H(e,t,s[t]);return e};var x=(e,s,t)=>new Promise((n,l)=>{var a=o=>{try{f(t.next(o))}catch(y){l(y)}},i=o=>{try{f(t.throw(o))}catch(y){l(y)}},f=o=>o.done?n(o.value):Promise.resolve(o.value).then(a,i);f((t=t.apply(e,s)).next())});import{J as _,K as E,L as ee,T as O,$ as ae,g as ne,a0 as A,a1 as F,a2 as j,Y as R,a3 as te,a4 as P,O as se,a5 as le,X as J,a6 as W,W as Y,a7 as ie,a8 as ue}from"./index-e1b913cd.js";import{k as m,c,f as S,d as B,p as re,E as oe,i as de,u as ce,D as ve,v as fe,A as ge}from"./frappe-ui-26ef7369.js";import{m as me,M as ye}from"./transition-6a62c7af.js";const De=_()({name:"VLabel",props:p(p({text:String,clickable:Boolean},E()),ee()),setup(e,s){let{slots:t}=s;return O(()=>{var n;return m("label",{class:["v-label",{"v-label--clickable":e.clickable},e.class],style:e.style},[e.text,(n=t.default)==null?void 0:n.call(t)])}),{}}});function pe(e){const{t:s}=ae();function t(n){var o;let{name:l}=n;const a={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[l],i=e[`onClick:${l}`],f=i&&a?s(`$vuetify.input.${a}`,(o=e.label)!=null?o:""):void 0;return m(ne,{icon:e[`${l}Icon`],"aria-label":f,onClick:i},null)}return{InputIcon:t}}const Ve=A({focused:Boolean,"onUpdate:focused":F()},"focus");function Pe(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j();const t=R(e,"focused"),n=c(()=>({[`${s}--focused`]:t.value}));function l(){t.value=!0}function a(){t.value=!1}return{focusClasses:n,isFocused:t,focus:l,blur:a}}const he=_()({name:"VMessages",props:p(p({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]}},E()),me({transition:{component:te,leaveAbsolute:!0,group:!0}})),setup(e,s){let{slots:t}=s;const n=c(()=>P(e.messages)),{textColorClasses:l,textColorStyles:a}=se(c(()=>e.color));return O(()=>m(ye,{transition:e.transition,tag:"div",class:["v-messages",l.value,e.class],style:[a.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&n.value.map((i,f)=>m("div",{class:"v-messages__message",key:`${f}-${n.value}`},[t.message?t.message({message:i}):i]))]})),{}}}),X=Symbol.for("vuetify:form"),Ae=A({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function xe(e){const s=R(e,"modelValue"),t=c(()=>e.disabled),n=c(()=>e.readonly),l=S(!1),a=S([]),i=S([]);function f(){return x(this,null,function*(){const u=[];let r=!0;i.value=[],l.value=!0;for(const v of a.value){const d=yield v.validate();if(d.length>0&&(r=!1,u.push({id:v.id,errorMessages:d})),!r&&e.fastFail)break}return i.value=u,l.value=!1,{valid:r,errors:i.value}})}function o(){a.value.forEach(u=>u.reset()),s.value=null}function y(){a.value.forEach(u=>u.resetValidation()),i.value=[],s.value=null}return B(a,()=>{let u=0,r=0;const v=[];for(const d of a.value)d.isValid===!1?(r++,v.push({id:d.id,errorMessages:d.errorMessages})):d.isValid===!0&&u++;i.value=v,s.value=r>0?!1:u===a.value.length?!0:null},{deep:!0}),re(X,{register:u=>{let{id:r,validate:v,reset:d,resetValidation:I}=u;a.value.some(h=>h.id===r)&&le(`Duplicate input name "${r}"`),a.value.push({id:r,validate:v,reset:d,resetValidation:I,isValid:null,errorMessages:[]})},unregister:u=>{a.value=a.value.filter(r=>r.id!==u)},update:(u,r,v)=>{const d=a.value.find(I=>I.id===u);d&&(d.isValid=r,d.errorMessages=v)},isDisabled:t,isReadonly:n,isValidating:l,items:a,validateOn:oe(e,"validateOn")}),{errors:i,isDisabled:t,isReadonly:n,isValidating:l,items:a,validate:f,reset:o,resetValidation:y}}function be(){return de(X,null)}const Ie=A(p({disabled:Boolean,error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:Boolean,rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null},Ve()),"validation");function ke(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j(),t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J();const n=R(e,"modelValue"),l=c(()=>e.validationValue===void 0?n.value:e.validationValue),a=be(),i=S([]),f=S(!0),o=c(()=>!!(P(n.value===""?null:n.value).length||P(l.value===""?null:l.value).length)),y=c(()=>!!(e.disabled||a!=null&&a.isDisabled.value)),u=c(()=>!!(e.readonly||a!=null&&a.isReadonly.value)),r=c(()=>e.errorMessages.length?P(e.errorMessages).slice(0,Math.max(0,+e.maxErrors)):i.value),v=c(()=>e.error||r.value.length?!1:e.rules.length&&f.value?null:!0),d=S(!1),I=c(()=>({[`${s}--error`]:v.value===!1,[`${s}--dirty`]:o.value,[`${s}--disabled`]:y.value,[`${s}--readonly`]:u.value})),h=c(()=>{var g;return(g=e.name)!=null?g:ce(t)});ve(()=>{a==null||a.register({id:h.value,validate:b,reset:C,resetValidation:k})}),fe(()=>{a==null||a.unregister(h.value)});const D=c(()=>e.validateOn||(a==null?void 0:a.validateOn.value)||"input");ge(()=>a==null?void 0:a.update(h.value,v.value,r.value)),W(()=>D.value==="input",()=>{B(l,()=>{if(l.value!=null)b();else if(e.focused){const g=B(()=>e.focused,V=>{V||b(),g()})}})}),W(()=>D.value==="blur",()=>{B(()=>e.focused,g=>{g||b()})}),B(v,()=>{a==null||a.update(h.value,v.value,r.value)});function C(){k(),n.value=null}function k(){f.value=!0,i.value=[]}function b(){return x(this,null,function*(){var V;const g=[];d.value=!0;for(const M of e.rules){if(g.length>=+((V=e.maxErrors)!=null?V:1))break;const $=yield(typeof M=="function"?M:()=>M)(l.value);if($!==!0){if(typeof $!="string"){console.warn(`${$} is not a valid value. Rule functions must return boolean true or a string.`);continue}g.push($)}}return i.value=g,d.value=!1,f.value=!1,i.value})}return{errorMessages:r,isDirty:o,isDisabled:y,isReadonly:u,isPristine:f,isValid:v,isValidating:d,reset:C,resetValidation:k,validate:b,validationClasses:I}}const Me=A(p(p(p({id:String,appendIcon:Y,prependIcon:Y,hideDetails:[Boolean,String],hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":F(),"onClick:append":F()},E()),ie()),Ie()),"v-input"),Fe=_()({name:"VInput",props:p({},Me()),emits:{"update:modelValue":e=>!0},setup(e,s){let{attrs:t,slots:n,emit:l}=s;const{densityClasses:a}=ue(e),{InputIcon:i}=pe(e),f=J(),o=c(()=>e.id||`input-${f}`),y=c(()=>`${o.value}-messages`),{errorMessages:u,isDirty:r,isDisabled:v,isReadonly:d,isPristine:I,isValid:h,isValidating:D,reset:C,resetValidation:k,validate:b,validationClasses:g}=ke(e,"v-input",o),V=c(()=>({id:o,messagesId:y,isDirty:r,isDisabled:v,isReadonly:d,isPristine:I,isValid:h,isValidating:D,reset:C,resetValidation:k,validate:b})),M=c(()=>u.value.length>0?u.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages);return O(()=>{var L,K,N,U;const T=!!(n.prepend||e.prependIcon),$=!!(n.append||e.appendIcon),w=M.value.length>0,q=!e.hideDetails||e.hideDetails==="auto"&&(w||!!n.details);return m("div",{class:["v-input",`v-input--${e.direction}`,a.value,g.value,e.class],style:e.style},[T&&m("div",{key:"prepend",class:"v-input__prepend"},[(L=n.prepend)==null?void 0:L.call(n,V.value),e.prependIcon&&m(i,{key:"prepend-icon",name:"prepend"},null)]),n.default&&m("div",{class:"v-input__control"},[(K=n.default)==null?void 0:K.call(n,V.value)]),$&&m("div",{key:"append",class:"v-input__append"},[e.appendIcon&&m(i,{key:"append-icon",name:"append"},null),(N=n.append)==null?void 0:N.call(n,V.value)]),q&&m("div",{class:"v-input__details"},[m(he,{id:y.value,active:w,messages:M.value},{message:n.message}),(U=n.details)==null?void 0:U.call(n,V.value)])])}),{reset:C,resetValidation:k,validate:b}}});export{De as V,Fe as a,be as b,Ve as c,pe as d,Ae as e,xe as f,Me as m,Pe as u};
//# sourceMappingURL=VInput-ea621834.js.map
