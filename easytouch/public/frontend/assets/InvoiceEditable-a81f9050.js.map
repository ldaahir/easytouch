{"version":3,"file":"InvoiceEditable-a81f9050.js","sources":["../../../../frontend/src/views/apps/invoice/InvoiceProductEdit.vue","../../../../frontend/src/views/apps/invoice/InvoiceEditable.vue"],"sourcesContent":["<!-- eslint-disable vue/no-mutating-props -->\n<script setup>\nconst props = defineProps({\n  id: {\n    type: Number,\n    required: true,\n  },\n  data: {\n    type: Object,\n    required: true,\n    default: () => ({\n      title: 'App Design',\n      cost: 24,\n      qty: 1,\n      description: 'Designed UI kit & app pages.',\n    }),\n  },\n})\n\nconst emit = defineEmits([\n  'removeProduct',\n  'totalAmount',\n])\n\nconst itemsOptions = [\n  {\n    title: 'App Design',\n    cost: 24,\n    qty: 1,\n    description: 'Designed UI kit & app pages.',\n  },\n  {\n    title: 'App Customization',\n    cost: 26,\n    qty: 1,\n    description: 'Customization & Bug Fixes.',\n  },\n  {\n    title: 'ABC Template',\n    cost: 28,\n    qty: 1,\n    description: 'Vuetify admin template.',\n  },\n  {\n    title: 'App Development',\n    cost: 32,\n    qty: 1,\n    description: 'Native App Development.',\n  },\n]\n\nconst selectedItem = ref('App Customization')\nconst localProductData = ref(structuredClone(toRaw(props.data)))\n\nwatch(selectedItem, () => {\n  const item = itemsOptions.filter(obj => {\n    return obj.title === selectedItem.value\n  })\n\n  localProductData.value = item[0]\n})\n\nconst removeProduct = () => {\n  emit('removeProduct', props.id)\n}\n\nconst totalPrice = computed(() => Number(localProductData.value.cost) * Number(localProductData.value.qty))\n\nwatch(totalPrice, () => {\n  emit('totalAmount', totalPrice.value)\n}, { immediate: true })\n</script>\n\n<template>\n  <!-- eslint-disable vue/no-mutating-props -->\n  <div class=\"add-products-header mb-4 d-none d-md-flex ps-5 pe-16\">\n    <VRow class=\"font-weight-medium\">\n      <VCol\n        cols=\"12\"\n        md=\"6\"\n      >\n        <span class=\"text-base\">\n          Item\n        </span>\n      </VCol>\n\n      <VCol\n        cols=\"12\"\n        md=\"2\"\n      >\n        <span class=\"text-base\">\n          Cost\n        </span>\n      </VCol>\n\n      <VCol\n        cols=\"12\"\n        md=\"2\"\n      >\n        <span class=\"text-base\">\n          Qty\n        </span>\n      </VCol>\n\n      <VCol\n        cols=\"12\"\n        md=\"2\"\n      >\n        <span class=\"text-base\">\n          Price\n        </span>\n      </VCol>\n    </VRow>\n  </div>\n\n  <VCard\n    flat\n    border\n    class=\"d-flex flex-row\"\n  >\n    <!-- ðŸ‘‰ Left Form -->\n    <div class=\"pa-5 flex-grow-1\">\n      <VRow>\n        <VCol\n          cols=\"12\"\n          md=\"6\"\n        >\n          <AppSelect\n            v-model=\"selectedItem\"\n            :items=\"itemsOptions\"\n            item-title=\"title\"\n            item-value=\"title\"\n            label=\"Select Item\"\n            class=\"mb-3\"\n          />\n\n          <AppTextarea\n            v-model=\"localProductData.description\"\n            rows=\"2\"\n            label=\"Description\"\n            placeholder=\"Description\"\n          />\n        </VCol>\n\n        <VCol\n          cols=\"12\"\n          md=\"2\"\n          sm=\"4\"\n        >\n          <AppTextField\n            v-model=\"localProductData.cost\"\n            type=\"number\"\n            label=\"Cost\"\n          />\n\n          <div class=\"text-body-2 text-no-wrap mt-4\">\n            <p class=\"mb-1\">\n              Discount\n            </p>\n\n            <span>0%</span>\n\n            <span class=\"mx-2\">\n              0%\n              <VTooltip activator=\"parent\">Tax 1</VTooltip>\n            </span>\n\n            <span>\n              0%\n              <VTooltip activator=\"parent\">Tax 2</VTooltip>\n            </span>\n          </div>\n        </VCol>\n\n        <VCol\n          cols=\"12\"\n          md=\"2\"\n          sm=\"4\"\n        >\n          <AppTextField\n            v-model=\"localProductData.qty\"\n            type=\"number\"\n            label=\"Qty\"\n          />\n        </VCol>\n\n        <VCol\n          cols=\"12\"\n          md=\"2\"\n          sm=\"4\"\n        >\n          <p class=\"my-2\">\n            <span class=\"d-inline d-md-none\">Price: </span>\n            <span class=\"text-body-1\">${{ totalPrice }}</span>\n          </p>\n        </VCol>\n      </VRow>\n    </div>\n\n    <!-- ðŸ‘‰ Item Actions -->\n    <div class=\"d-flex flex-column justify-space-between border-s pa-1\">\n      <IconBtn @click=\"removeProduct\">\n        <VIcon\n          size=\"20\"\n          icon=\"tabler-x\"\n        />\n      </IconBtn>\n\n      <IconBtn>\n        <VIcon\n          size=\"20\"\n          icon=\"tabler-settings\"\n        />\n      </IconBtn>\n    </div>\n  </VCard>\n</template>\n","<script setup>\nimport InvoiceProductEdit from './InvoiceProductEdit.vue'\nimport { useInvoiceStore } from './useInvoiceStore'\nimport { VNodeRenderer } from '@layouts/components/VNodeRenderer'\nimport { themeConfig } from '@themeConfig'\n\nconst props = defineProps({\n  data: {\n    type: null,\n    required: true,\n  },\n})\n\nconst invoiceListStore = useInvoiceStore()\n\n// ðŸ‘‰ Clients\nconst clients = ref([])\n\n// ðŸ‘‰ fetchClients\ninvoiceListStore.fetchClients().then(response => {\n  clients.value = response.data\n}).catch(err => {\n  console.log(err)\n})\n\n// ðŸ‘‰ Add item function\nconst addItem = () => {\n\n  // eslint-disable-next-line vue/no-mutating-props\n  props.data.purchasedProducts.push({\n    title: 'App Design',\n    cost: 24,\n    qty: 1,\n    description: 'Designed UI kit & app pages.',\n  })\n}\n\nconst removeProduct = id => {\n\n  // eslint-disable-next-line vue/no-mutating-props\n  props.data.purchasedProducts.splice(id, 1)\n}\n</script>\n\n<template>\n  <VCard>\n    <!-- SECTION Header -->\n    <!--  eslint-disable vue/no-mutating-props -->\n    <VCardText class=\"d-flex flex-wrap justify-space-between gap-y-5 flex-column flex-sm-row\">\n      <!-- ðŸ‘‰ Left Content -->\n      <div class=\"ma-sm-4\">\n        <div class=\"d-flex align-center mb-6\">\n          <!-- ðŸ‘‰ Logo -->\n          <VNodeRenderer\n            :nodes=\"themeConfig.app.logo\"\n            class=\"me-3\"\n          />\n\n          <!-- ðŸ‘‰ Title -->\n          <h6 class=\"font-weight-bold text-capitalize text-h4\">\n            {{ themeConfig.app.title }}\n          </h6>\n        </div>\n\n        <!-- ðŸ‘‰ Address -->\n        <p class=\"mb-0\">\n          Office 149, 450 South Brand Brooklyn\n        </p>\n        <p class=\"my-2\">\n          San Diego County, CA 91905, USA\n        </p>\n        <p class=\"mb-0\">\n          +1 (123) 456 7891, +44 (876) 543 2198\n        </p>\n      </div>\n\n      <!-- ðŸ‘‰ Right Content -->\n      <div class=\"mt-4 ma-sm-4\">\n        <!-- ðŸ‘‰ Invoice Id -->\n        <h6 class=\"d-flex align-center font-weight-medium justify-sm-end text-xl mb-3\">\n          <span\n            class=\"me-3 text-h4\"\n            style=\"inline-size: 6rem;\"\n          >Invoice</span>\n\n          <span>\n            <AppTextField\n              v-model=\"props.data.invoice.id\"\n              disabled\n              prefix=\"#\"\n              density=\"compact\"\n              style=\"inline-size: 9.5rem;\"\n            />\n          </span>\n        </h6>\n\n        <!-- ðŸ‘‰ Issue Date -->\n        <p class=\"d-flex align-center justify-sm-end mb-3\">\n          <span\n            class=\"me-3\"\n            style=\"inline-size: 6rem;\"\n          >Date Issued</span>\n\n          <span style=\"inline-size: 9.5rem;\">\n            <AppDateTimePicker\n              v-model=\"props.data.invoice.issuedDate\"\n              density=\"compact\"\n              placeholder=\"YYYY-MM-DD\"\n              :config=\"{ position: 'auto right' }\"\n            />\n          </span>\n        </p>\n\n        <!-- ðŸ‘‰ Due Date -->\n        <p class=\"d-flex align-center justify-sm-end mb-0\">\n          <span\n            class=\"me-3\"\n            style=\"inline-size: 6rem;\"\n          >Due Date</span>\n\n          <span style=\"min-inline-size: 9.5rem;\">\n            <AppDateTimePicker\n              v-model=\"props.data.invoice.dueDate\"\n              density=\"compact\"\n              placeholder=\"YYYY-MM-DD\"\n              :config=\"{ position: 'auto right' }\"\n            />\n          </span>\n        </p>\n      </div>\n    </VCardText>\n    <!-- !SECTION -->\n\n    <VDivider />\n\n    <VCardText class=\"d-flex flex-wrap justify-space-between flex-column flex-sm-row gap-y-5 gap-4\">\n      <div\n        class=\"ma-sm-4\"\n        style=\"inline-size: 15.5rem;\"\n      >\n        <h6 class=\"text-base font-weight-medium mb-6\">\n          Invoice To:\n        </h6>\n\n        <AppSelect\n          v-model=\"props.data.invoice.client\"\n          :items=\"clients\"\n          item-title=\"name\"\n          item-value=\"name\"\n          placeholder=\"Select Customer\"\n          return-object\n          class=\"mb-6\"\n          density=\"compact\"\n        />\n        <p class=\"mb-1\">\n          {{ props.data.invoice.client.name }}\n        </p>\n        <p class=\"mb-1\">\n          {{ props.data.invoice.client.company }}\n        </p>\n        <p\n          v-if=\"props.data.invoice.client.address\"\n          class=\"mb-1\"\n        >\n          {{ props.data.invoice.client.address }}, {{ props.data.invoice.client.country }}\n        </p>\n        <p class=\"mb-1\">\n          {{ props.data.invoice.client.contact }}\n        </p>\n        <p class=\"mb-0\">\n          {{ props.data.invoice.client.companyEmail }}\n        </p>\n      </div>\n\n      <div class=\"ma-sm-4\">\n        <h6 class=\"text-base font-weight-medium mb-6\">\n          Bill To:\n        </h6>\n\n        <table>\n          <tbody>\n            <tr>\n              <td class=\"pe-6 pb-1\">\n                Total Due:\n              </td>\n              <td class=\"font-weight-medium pb-1\">\n                {{ props.data.paymentDetails.totalDue }}\n              </td>\n            </tr>\n\n            <tr>\n              <td class=\"pe-6 pb-1\">\n                Bank Name:\n              </td>\n              <td class=\"pb-1\">\n                {{ props.data.paymentDetails.bankName }}\n              </td>\n            </tr>\n\n            <tr>\n              <td class=\"pe-6 pb-1\">\n                Country:\n              </td>\n              <td class=\"pb-1\">\n                {{ props.data.paymentDetails.country }}\n              </td>\n            </tr>\n\n            <tr>\n              <td class=\"pe-6 pb-1\">\n                IBAN:\n              </td>\n              <td class=\"pb-1\">\n                {{ props.data.paymentDetails.iban }}\n              </td>\n            </tr>\n\n            <tr>\n              <td class=\"pe-6 pb-1\">\n                SWIFT Code:\n              </td>\n              <td class=\"pb-1\">\n                {{ props.data.paymentDetails.swiftCode }}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </VCardText>\n\n    <VDivider />\n\n    <!-- ðŸ‘‰ Add purchased products -->\n    <VCardText class=\"add-products-form\">\n      <div\n        v-for=\"(product, index) in props.data.purchasedProducts\"\n        :key=\"product.title\"\n        class=\"my-4 ma-sm-4\"\n      >\n        <InvoiceProductEdit\n          :id=\"index\"\n          :data=\"product\"\n          @remove-product=\"removeProduct\"\n        />\n      </div>\n\n      <div class=\"mt-4 ma-sm-4\">\n        <VBtn @click=\"addItem\">\n          Add Item\n        </VBtn>\n      </div>\n    </VCardText>\n\n    <VDivider />\n\n    <!-- ðŸ‘‰ Total Amount -->\n    <VCardText class=\"d-flex justify-space-between flex-wrap flex-column flex-sm-row\">\n      <div class=\"mx-sm-4 my-4\">\n        <div class=\"d-flex align-center mb-4\">\n          <h6 class=\"text-sm font-weight-medium me-10\">\n            Salesperson:\n          </h6>\n          <AppTextField\n            v-model=\"props.data.salesperson\"\n            style=\"inline-size: 10rem;\"\n            placeholder=\"John Doe\"\n          />\n        </div>\n\n        <AppTextField\n          v-model=\"props.data.thanksNote\"\n          placeholder=\"Message\"\n        />\n      </div>\n\n      <div class=\"my-4 mx-sm-4\">\n        <table>\n          <tr>\n            <td class=\"text-end\">\n              <div class=\"me-5\">\n                <p class=\"mb-2\">\n                  Subtotal:\n                </p>\n                <p class=\"mb-2\">\n                  Discount:\n                </p>\n                <p class=\"mb-2\">\n                  Tax:\n                </p>\n                <p class=\"mb-2\">\n                  Total:\n                </p>\n              </div>\n            </td>\n\n            <td class=\"font-weight-medium text-high-emphasis\">\n              <p class=\"mb-2\">\n                $154.25\n              </p>\n              <p class=\"mb-2\">\n                $00.00\n              </p>\n              <p class=\"mb-2\">\n                $50.00\n              </p>\n              <p class=\"mb-2\">\n                $204.25\n              </p>\n            </td>\n          </tr>\n        </table>\n      </div>\n    </VCardText>\n\n    <VDivider />\n\n    <VCardText class=\"mx-sm-4\">\n      <p class=\"font-weight-medium text-sm text-high-emphasis mb-2\">\n        Note:\n      </p>\n      <AppTextarea\n        v-model=\"props.data.note\"\n        placeholder=\"Note\"\n        :rows=\"2\"\n      />\n    </VCardText>\n  </VCard>\n</template>\n"],"names":["itemsOptions","selectedItem","ref","localProductData","toRaw","props","watch","item","obj","removeProduct","emit","totalPrice","computed","invoiceListStore","useInvoiceStore","clients","response","err","addItem","id"],"mappings":"y7CAwBAA,EAAA,CACA,CACA,MAAA,aACA,KAAA,GACA,IAAA,EACA,YAAA,8BACA,EACA,CACA,MAAA,oBACA,KAAA,GACA,IAAA,EACA,YAAA,4BACA,EACA,CACA,MAAA,eACA,KAAA,GACA,IAAA,EACA,YAAA,yBACA,EACA,CACA,MAAA,kBACA,KAAA,GACA,IAAA,EACA,YAAA,yBACA,CACA,EAEAC,EAAAC,EAAA,mBAAA,EACAC,EAAAD,EAAA,gBAAAE,EAAAC,EAAA,IAAA,CAAA,CAAA,EAEAC,EAAAL,EAAA,IAAA,CACA,MAAAM,EAAAP,EAAA,OAAAQ,GACAA,EAAA,QAAAP,EAAA,KACA,EAEAE,EAAA,MAAAI,EAAA,CAAA,CACA,CAAA,EAEA,MAAAE,EAAA,IAAA,CACAC,EAAA,gBAAAL,EAAA,EAAA,CACA,EAEAM,EAAAC,EAAA,IAAA,OAAAT,EAAA,MAAA,IAAA,EAAA,OAAAA,EAAA,MAAA,GAAA,CAAA,EAEA,OAAAG,EAAAK,EAAA,IAAA,CACAD,EAAA,cAAAC,EAAA,KAAA,CACA,EAAA,CAAA,UAAA,GAAA,w2HCzDAE,EAAAC,EAAA,EAGAC,EAAAb,EAAA,EAAA,EAGAW,EAAA,aAAA,EAAA,KAAAG,GAAA,CACAD,EAAA,MAAAC,EAAA,IACA,CAAA,EAAA,MAAAC,GAAA,CACA,QAAA,IAAAA,CAAA,CACA,CAAA,EAGA,MAAAC,EAAA,IAAA,CAGAb,EAAA,KAAA,kBAAA,KAAA,CACA,MAAA,aACA,KAAA,GACA,IAAA,EACA,YAAA,8BACA,CAAA,CACA,EAEAI,EAAAU,GAAA,CAGAd,EAAA,KAAA,kBAAA,OAAAc,EAAA,CAAA,CACA"}