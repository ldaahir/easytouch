{"version":3,"file":"VMenu-71a8a06d.js","sources":["../../../../frontend/node_modules/vuetify/lib/components/VMenu/VMenu.mjs"],"sourcesContent":["import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\n// Styles\nimport \"./VMenu.css\";\n\n// Components\nimport { VDialogTransition } from \"../transitions/index.mjs\";\nimport { VDefaultsProvider } from \"../VDefaultsProvider/index.mjs\";\nimport { VOverlay } from \"../VOverlay/index.mjs\"; // Composables\nimport { forwardRefs } from \"../../composables/forwardRefs.mjs\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.mjs\";\nimport { useScopeId } from \"../../composables/scopeId.mjs\"; // Utilities\nimport { computed, inject, mergeProps, provide, ref, watch } from 'vue';\nimport { genericComponent, getUid, omit, useRender } from \"../../util/index.mjs\";\nimport { makeVOverlayProps } from \"../VOverlay/VOverlay.mjs\";\nimport { VMenuSymbol } from \"./shared.mjs\"; // Types\nexport const VMenu = genericComponent()({\n  name: 'VMenu',\n  props: {\n    // TODO\n    // disableKeys: Boolean,\n    id: String,\n    ...omit(makeVOverlayProps({\n      closeDelay: 250,\n      closeOnContentClick: true,\n      locationStrategy: 'connected',\n      openDelay: 300,\n      scrim: false,\n      scrollStrategy: 'reposition',\n      transition: {\n        component: VDialogTransition\n      }\n    }), ['absolute'])\n  },\n  emits: {\n    'update:modelValue': value => true\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const isActive = useProxiedModel(props, 'modelValue');\n    const {\n      scopeId\n    } = useScopeId();\n    const uid = getUid();\n    const id = computed(() => props.id || `v-menu-${uid}`);\n    const overlay = ref();\n    const parent = inject(VMenuSymbol, null);\n    const openChildren = ref(0);\n    provide(VMenuSymbol, {\n      register() {\n        ++openChildren.value;\n      },\n      unregister() {\n        --openChildren.value;\n      },\n      closeParents() {\n        setTimeout(() => {\n          if (!openChildren.value) {\n            isActive.value = false;\n            parent?.closeParents();\n          }\n        }, 40);\n      }\n    });\n    watch(isActive, val => {\n      val ? parent?.register() : parent?.unregister();\n    });\n    function onClickOutside() {\n      parent?.closeParents();\n    }\n    const activatorProps = computed(() => mergeProps({\n      'aria-haspopup': 'menu',\n      'aria-expanded': String(isActive.value),\n      'aria-owns': id.value\n    }, props.activatorProps));\n    useRender(() => {\n      const [overlayProps] = VOverlay.filterProps(props);\n      return _createVNode(VOverlay, _mergeProps({\n        \"ref\": overlay,\n        \"class\": ['v-menu', props.class],\n        \"style\": props.style\n      }, overlayProps, {\n        \"modelValue\": isActive.value,\n        \"onUpdate:modelValue\": $event => isActive.value = $event,\n        \"absolute\": true,\n        \"activatorProps\": activatorProps.value,\n        \"onClick:outside\": onClickOutside\n      }, scopeId), {\n        activator: slots.activator,\n        default: function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n          return _createVNode(VDefaultsProvider, {\n            \"root\": true\n          }, {\n            default: () => [slots.default?.(...args)]\n          });\n        }\n      });\n    });\n    return forwardRefs({\n      id,\n      Î¨openChildren: openChildren\n    }, overlay);\n  }\n});\n//# sourceMappingURL=VMenu.mjs.map"],"names":["VMenu","genericComponent","__spreadValues","omit","makeVOverlayProps","VDialogTransition","value","props","_ref","slots","isActive","useProxiedModel","scopeId","useScopeId","uid","getUid","id","computed","overlay","ref","parent","inject","VMenuSymbol","openChildren","provide","watch","val","onClickOutside","activatorProps","mergeProps","useRender","overlayProps","VOverlay","_createVNode","_mergeProps","$event","_len","args","_key","VDefaultsProvider","_a","forwardRefs"],"mappings":"6pBAeY,MAACA,EAAQC,EAAgB,EAAG,CACtC,KAAM,QACN,MAAOC,EAAA,CAGL,GAAI,QACDC,EAAKC,EAAkB,CACxB,WAAY,IACZ,oBAAqB,GACrB,iBAAkB,YAClB,UAAW,IACX,MAAO,GACP,eAAgB,aAChB,WAAY,CACV,UAAWC,CACZ,CACP,CAAK,EAAG,CAAC,UAAU,CAAC,GAElB,MAAO,CACL,oBAAqBC,GAAS,EAC/B,EACD,MAAMC,EAAOC,EAAM,CACjB,GAAI,CACF,MAAAC,CACD,EAAGD,EACJ,MAAME,EAAWC,EAAgBJ,EAAO,YAAY,EAC9C,CACJ,QAAAK,CACD,EAAGC,EAAU,EACRC,EAAMC,IACNC,EAAKC,EAAS,IAAMV,EAAM,IAAM,UAAUO,CAAG,EAAE,EAC/CI,EAAUC,IACVC,EAASC,EAAOC,EAAa,IAAI,EACjCC,EAAeJ,EAAI,CAAC,EAC1BK,EAAQF,EAAa,CACnB,UAAW,CACT,EAAEC,EAAa,KAChB,EACD,YAAa,CACX,EAAEA,EAAa,KAChB,EACD,cAAe,CACb,WAAW,IAAM,CACVA,EAAa,QAChBb,EAAS,MAAQ,GACjBU,GAAA,MAAAA,EAAQ,eAEX,EAAE,EAAE,CACN,CACP,CAAK,EACDK,EAAMf,EAAUgB,GAAO,CACrBA,EAAMN,GAAA,MAAAA,EAAQ,WAAaA,GAAA,MAAAA,EAAQ,YACzC,CAAK,EACD,SAASO,GAAiB,CACxBP,GAAA,MAAAA,EAAQ,cACT,CACD,MAAMQ,EAAiBX,EAAS,IAAMY,EAAW,CAC/C,gBAAiB,OACjB,gBAAiB,OAAOnB,EAAS,KAAK,EACtC,YAAaM,EAAG,KACtB,EAAOT,EAAM,cAAc,CAAC,EACxB,OAAAuB,EAAU,IAAM,CACd,KAAM,CAACC,CAAY,EAAIC,EAAS,YAAYzB,CAAK,EACjD,OAAO0B,EAAaD,EAAUE,EAAY,CACxC,IAAOhB,EACP,MAAS,CAAC,SAAUX,EAAM,KAAK,EAC/B,MAASA,EAAM,KAChB,EAAEwB,EAAc,CACf,WAAcrB,EAAS,MACvB,sBAAuByB,GAAUzB,EAAS,MAAQyB,EAClD,SAAY,GACZ,eAAkBP,EAAe,MACjC,kBAAmBD,CACpB,EAAEf,CAAO,EAAG,CACX,UAAWH,EAAM,UACjB,QAAS,UAAY,CACnB,QAAS2B,EAAO,UAAU,OAAQC,EAAO,IAAI,MAAMD,CAAI,EAAGE,EAAO,EAAGA,EAAOF,EAAME,IAC/ED,EAAKC,CAAI,EAAI,UAAUA,CAAI,EAE7B,OAAOL,EAAaM,EAAmB,CACrC,KAAQ,EACpB,EAAa,CACD,QAAS,IAAA,OAAM,QAACC,EAAA/B,EAAM,UAAN,YAAA+B,EAAA,KAAA/B,EAAgB,GAAG4B,EAAK,EACpD,CAAW,CACF,CACT,CAAO,CACP,CAAK,EACMI,EAAY,CACjB,GAAAzB,EACA,cAAeO,CAChB,EAAEL,CAAO,CACX,CACH,CAAC","x_google_ignoreList":[0]}