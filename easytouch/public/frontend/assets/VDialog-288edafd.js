var x=Object.defineProperty;var g=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var p=(a,o,e)=>o in a?x(a,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[o]=e,V=(a,o)=>{for(var e in o||(o={}))B.call(o,e)&&p(a,e,o[e]);if(g)for(var e of g(o))D.call(o,e)&&p(a,e,o[e]);return a};var E=(a,o,e)=>new Promise((s,f)=>{var r=t=>{try{u(e.next(t))}catch(l){f(l)}},d=t=>{try{u(e.throw(t))}catch(l){f(l)}},u=t=>t.done?s(t.value):Promise.resolve(t.value).then(r,d);u((e=e.apply(a,o)).next())});import{J as R,Y as T,aR as w,T as I,az as F,bg as O}from"./index-e1b913cd.js";import{m as z,u as A,V as b}from"./VOverlay-3a4af559.js";import{f as C}from"./forwardRefs-bb5e4b03.js";import{V as L}from"./dialog-transition-40895cfb.js";import{f as N,d as P,B as k,c as J,n as y,k as h}from"./frappe-ui-26ef7369.js";const q=R()({name:"VDialog",props:V({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean},z({origin:"center center",scrollStrategy:"block",transition:{component:L},zIndex:2400})),emits:{"update:modelValue":a=>!0},setup(a,o){let{slots:e}=o;const s=T(a,"modelValue"),{scopeId:f}=A(),r=N();function d(t){var c,i;const l=t.relatedTarget,n=t.target;if(l!==n&&((c=r.value)!=null&&c.contentEl)&&((i=r.value)!=null&&i.globalTop)&&![document,r.value.contentEl].includes(n)&&!r.value.contentEl.contains(n)){const v=O(r.value.contentEl);if(!v.length)return;const m=v[0],S=v[v.length-1];l===m?S.focus():m.focus()}}w&&P(()=>s.value&&a.retainFocus,t=>{t?document.addEventListener("focusin",d):document.removeEventListener("focusin",d)},{immediate:!0}),P(s,t=>E(this,null,function*(){var l,n;yield k(),t?(l=r.value.contentEl)==null||l.focus({preventScroll:!0}):(n=r.value.activatorEl)==null||n.focus({preventScroll:!0})}));const u=J(()=>y({"aria-haspopup":"dialog","aria-expanded":String(s.value)},a.activatorProps));return I(()=>{const[t]=b.filterProps(a);return h(b,y({ref:r,class:["v-dialog",{"v-dialog--fullscreen":a.fullscreen,"v-dialog--scrollable":a.scrollable},a.class],style:a.style},t,{modelValue:s.value,"onUpdate:modelValue":l=>s.value=l,"aria-modal":"true",activatorProps:u.value,role:"dialog"},f),{activator:e.activator,default:function(){for(var l=arguments.length,n=new Array(l),c=0;c<l;c++)n[c]=arguments[c];return h(F,{root:!0},{default:()=>{var i;return[(i=e.default)==null?void 0:i.call(e,...n)]}})}})}),C({},r)}});export{q as V};
//# sourceMappingURL=VDialog-288edafd.js.map
