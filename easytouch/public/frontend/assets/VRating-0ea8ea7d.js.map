{"version":3,"file":"VRating-0ea8ea7d.js","sources":["../../../../frontend/node_modules/vuetify/lib/components/VRating/VRating.mjs"],"sourcesContent":["import { createTextVNode as _createTextVNode, createVNode as _createVNode, Fragment as _Fragment } from \"vue\";\n// Styles\nimport \"./VRating.css\";\n\n// Components\nimport { VBtn } from \"../VBtn/index.mjs\"; // Composables\nimport { IconValue } from \"../../composables/icons.mjs\";\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { makeDensityProps } from \"../../composables/density.mjs\";\nimport { makeSizeProps } from \"../../composables/size.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\";\nimport { makeThemeProps, provideTheme } from \"../../composables/theme.mjs\";\nimport { useLocale } from \"../../composables/locale.mjs\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.mjs\"; // Utilities\nimport { computed, ref } from 'vue';\nimport { clamp, createRange, genericComponent, getUid, useRender } from \"../../util/index.mjs\"; // Types\nexport const VRating = genericComponent()({\n  name: 'VRating',\n  props: {\n    name: String,\n    itemAriaLabel: {\n      type: String,\n      default: '$vuetify.rating.ariaLabel.item'\n    },\n    activeColor: String,\n    color: String,\n    clearable: Boolean,\n    disabled: Boolean,\n    emptyIcon: {\n      type: IconValue,\n      default: '$ratingEmpty'\n    },\n    fullIcon: {\n      type: IconValue,\n      default: '$ratingFull'\n    },\n    halfIncrements: Boolean,\n    hover: Boolean,\n    length: {\n      type: [Number, String],\n      default: 5\n    },\n    readonly: Boolean,\n    modelValue: {\n      type: [Number, String],\n      default: 0\n    },\n    itemLabels: Array,\n    itemLabelPosition: {\n      type: String,\n      default: 'top',\n      validator: v => ['top', 'bottom'].includes(v)\n    },\n    ripple: Boolean,\n    ...makeComponentProps(),\n    ...makeDensityProps(),\n    ...makeSizeProps(),\n    ...makeTagProps(),\n    ...makeThemeProps()\n  },\n  emits: {\n    'update:modelValue': value => true\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const {\n      t\n    } = useLocale();\n    const {\n      themeClasses\n    } = provideTheme(props);\n    const rating = useProxiedModel(props, 'modelValue');\n    const normalizedValue = computed(() => clamp(parseFloat(rating.value), 0, +props.length));\n    const range = computed(() => createRange(Number(props.length), 1));\n    const increments = computed(() => range.value.flatMap(v => props.halfIncrements ? [v - 0.5, v] : [v]));\n    const hoverIndex = ref(-1);\n    const itemState = computed(() => increments.value.map(value => {\n      const isHovering = props.hover && hoverIndex.value > -1;\n      const isFilled = normalizedValue.value >= value;\n      const isHovered = hoverIndex.value >= value;\n      const isFullIcon = isHovering ? isHovered : isFilled;\n      const icon = isFullIcon ? props.fullIcon : props.emptyIcon;\n      const activeColor = props.activeColor ?? props.color;\n      const color = isFilled || isHovered ? activeColor : props.color;\n      return {\n        isFilled,\n        isHovered,\n        icon,\n        color\n      };\n    }));\n    const eventState = computed(() => [0, ...increments.value].map(value => {\n      function onMouseenter() {\n        hoverIndex.value = value;\n      }\n      function onMouseleave() {\n        hoverIndex.value = -1;\n      }\n      function onClick() {\n        if (props.disabled || props.readonly) return;\n        rating.value = normalizedValue.value === value && props.clearable ? 0 : value;\n      }\n      return {\n        onMouseenter: props.hover ? onMouseenter : undefined,\n        onMouseleave: props.hover ? onMouseleave : undefined,\n        onClick\n      };\n    }));\n    const name = computed(() => props.name ?? `v-rating-${getUid()}`);\n    function VRatingItem(_ref2) {\n      let {\n        value,\n        index,\n        showStar = true\n      } = _ref2;\n      const {\n        onMouseenter,\n        onMouseleave,\n        onClick\n      } = eventState.value[index + 1];\n      const id = `${name.value}-${String(value).replace('.', '-')}`;\n      const btnProps = {\n        color: itemState.value[index]?.color,\n        density: props.density,\n        disabled: props.disabled,\n        icon: itemState.value[index]?.icon,\n        ripple: props.ripple,\n        size: props.size,\n        variant: 'plain'\n      };\n      return _createVNode(_Fragment, null, [_createVNode(\"label\", {\n        \"for\": id,\n        \"class\": {\n          'v-rating__item--half': props.halfIncrements && value % 1 > 0,\n          'v-rating__item--full': props.halfIncrements && value % 1 === 0\n        },\n        \"onMouseenter\": onMouseenter,\n        \"onMouseleave\": onMouseleave,\n        \"onClick\": onClick\n      }, [_createVNode(\"span\", {\n        \"class\": \"v-rating__hidden\"\n      }, [t(props.itemAriaLabel, value, props.length)]), !showStar ? undefined : slots.item ? slots.item({\n        ...itemState.value[index],\n        props: btnProps,\n        value,\n        index,\n        rating: normalizedValue.value\n      }) : _createVNode(VBtn, btnProps, null)]), _createVNode(\"input\", {\n        \"class\": \"v-rating__hidden\",\n        \"name\": name.value,\n        \"id\": id,\n        \"type\": \"radio\",\n        \"value\": value,\n        \"checked\": normalizedValue.value === value,\n        \"tabindex\": -1,\n        \"readonly\": props.readonly,\n        \"disabled\": props.disabled\n      }, null)]);\n    }\n    function createLabel(labelProps) {\n      if (slots['item-label']) return slots['item-label'](labelProps);\n      if (labelProps.label) return _createVNode(\"span\", null, [labelProps.label]);\n      return _createVNode(\"span\", null, [_createTextVNode(\"\\xA0\")]);\n    }\n    useRender(() => {\n      const hasLabels = !!props.itemLabels?.length || slots['item-label'];\n      return _createVNode(props.tag, {\n        \"class\": ['v-rating', {\n          'v-rating--hover': props.hover,\n          'v-rating--readonly': props.readonly\n        }, themeClasses.value, props.class],\n        \"style\": props.style\n      }, {\n        default: () => [_createVNode(VRatingItem, {\n          \"value\": 0,\n          \"index\": -1,\n          \"showStar\": false\n        }, null), range.value.map((value, i) => _createVNode(\"div\", {\n          \"class\": \"v-rating__wrapper\"\n        }, [hasLabels && props.itemLabelPosition === 'top' ? createLabel({\n          value,\n          index: i,\n          label: props.itemLabels?.[i]\n        }) : undefined, _createVNode(\"div\", {\n          \"class\": \"v-rating__item\"\n        }, [props.halfIncrements ? _createVNode(_Fragment, null, [_createVNode(VRatingItem, {\n          \"value\": value - 0.5,\n          \"index\": i * 2\n        }, null), _createVNode(VRatingItem, {\n          \"value\": value,\n          \"index\": i * 2 + 1\n        }, null)]) : _createVNode(VRatingItem, {\n          \"value\": value,\n          \"index\": i\n        }, null)]), hasLabels && props.itemLabelPosition === 'bottom' ? createLabel({\n          value,\n          index: i,\n          label: props.itemLabels?.[i]\n        }) : undefined]))]\n      });\n    });\n    return {};\n  }\n});\n//# sourceMappingURL=VRating.mjs.map"],"names":["VRating","genericComponent","__spreadValues","IconValue","v","makeComponentProps","makeDensityProps","makeSizeProps","makeTagProps","makeThemeProps","value","props","_ref","slots","t","useLocale","themeClasses","provideTheme","rating","useProxiedModel","normalizedValue","computed","clamp","range","createRange","increments","hoverIndex","ref","itemState","isHovering","isFilled","isHovered","icon","activeColor","_a","color","eventState","onMouseenter","onMouseleave","onClick","name","getUid","VRatingItem","_ref2","index","showStar","id","btnProps","_b","_createVNode","_Fragment","__spreadProps","VBtn","createLabel","labelProps","_createTextVNode","useRender","hasLabels","i"],"mappings":"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","x_google_ignoreList":[0]}