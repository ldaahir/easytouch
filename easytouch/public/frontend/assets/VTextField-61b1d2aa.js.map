{"version":3,"file":"VTextField-61b1d2aa.js","sources":["../../../../frontend/node_modules/vuetify/lib/components/VTextField/VTextField.mjs"],"sourcesContent":["import { Fragment as _Fragment, withDirectives as _withDirectives, createVNode as _createVNode, mergeProps as _mergeProps, resolveDirective as _resolveDirective } from \"vue\";\n// Styles\nimport \"./VTextField.css\";\n\n// Components\nimport { filterFieldProps, makeVFieldProps, VField } from \"../VField/VField.mjs\";\nimport { makeVInputProps, VInput } from \"../VInput/VInput.mjs\";\nimport { VCounter } from \"../VCounter/index.mjs\"; // Directives\nimport Intersect from \"../../directives/intersect/index.mjs\"; // Composables\nimport { forwardRefs } from \"../../composables/forwardRefs.mjs\";\nimport { useFocus } from \"../../composables/focus.mjs\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.mjs\"; // Utilities\nimport { cloneVNode, computed, nextTick, ref } from 'vue';\nimport { callEvent, filterInputAttrs, genericComponent, propsFactory, useRender } from \"../../util/index.mjs\"; // Types\nconst activeTypes = ['color', 'file', 'time', 'date', 'datetime-local', 'week', 'month'];\nexport const makeVTextFieldProps = propsFactory({\n  autofocus: Boolean,\n  counter: [Boolean, Number, String],\n  counterValue: Function,\n  prefix: String,\n  placeholder: String,\n  persistentPlaceholder: Boolean,\n  persistentCounter: Boolean,\n  suffix: String,\n  type: {\n    type: String,\n    default: 'text'\n  },\n  modelModifiers: Object,\n  ...makeVInputProps(),\n  ...makeVFieldProps()\n}, 'v-text-field');\nexport const VTextField = genericComponent()({\n  name: 'VTextField',\n  directives: {\n    Intersect\n  },\n  inheritAttrs: false,\n  props: makeVTextFieldProps(),\n  emits: {\n    'click:control': e => true,\n    'mousedown:control': e => true,\n    'update:focused': focused => true,\n    'update:modelValue': val => true\n  },\n  setup(props, _ref) {\n    let {\n      attrs,\n      emit,\n      slots\n    } = _ref;\n    const model = useProxiedModel(props, 'modelValue');\n    const {\n      isFocused,\n      focus,\n      blur\n    } = useFocus(props);\n    const counterValue = computed(() => {\n      return typeof props.counterValue === 'function' ? props.counterValue(model.value) : (model.value ?? '').toString().length;\n    });\n    const max = computed(() => {\n      if (attrs.maxlength) return attrs.maxlength;\n      if (!props.counter || typeof props.counter !== 'number' && typeof props.counter !== 'string') return undefined;\n      return props.counter;\n    });\n    function onIntersect(isIntersecting, entries) {\n      if (!props.autofocus || !isIntersecting) return;\n      entries[0].target?.focus?.();\n    }\n    const vInputRef = ref();\n    const vFieldRef = ref();\n    const inputRef = ref();\n    const isActive = computed(() => activeTypes.includes(props.type) || props.persistentPlaceholder || isFocused.value);\n    function onFocus() {\n      if (inputRef.value !== document.activeElement) {\n        inputRef.value?.focus();\n      }\n      if (!isFocused.value) focus();\n    }\n    function onControlMousedown(e) {\n      emit('mousedown:control', e);\n      if (e.target === inputRef.value) return;\n      onFocus();\n      e.preventDefault();\n    }\n    function onControlClick(e) {\n      onFocus();\n      emit('click:control', e);\n    }\n    function onClear(e) {\n      e.stopPropagation();\n      onFocus();\n      nextTick(() => {\n        model.value = null;\n        callEvent(props['onClick:clear'], e);\n      });\n    }\n    function onInput(e) {\n      const el = e.target;\n      model.value = el.value;\n      if (props.modelModifiers?.trim && ['text', 'search', 'password', 'tel', 'url'].includes(props.type)) {\n        const caretPosition = [el.selectionStart, el.selectionEnd];\n        nextTick(() => {\n          el.selectionStart = caretPosition[0];\n          el.selectionEnd = caretPosition[1];\n        });\n      }\n    }\n    useRender(() => {\n      const hasCounter = !!(slots.counter || props.counter || props.counterValue);\n      const hasDetails = !!(hasCounter || slots.details);\n      const [rootAttrs, inputAttrs] = filterInputAttrs(attrs);\n      const [{\n        modelValue: _,\n        ...inputProps\n      }] = VInput.filterProps(props);\n      const [fieldProps] = filterFieldProps(props);\n      return _createVNode(VInput, _mergeProps({\n        \"ref\": vInputRef,\n        \"modelValue\": model.value,\n        \"onUpdate:modelValue\": $event => model.value = $event,\n        \"class\": ['v-text-field', {\n          'v-text-field--prefixed': props.prefix,\n          'v-text-field--suffixed': props.suffix,\n          'v-text-field--flush-details': ['plain', 'underlined'].includes(props.variant)\n        }, props.class],\n        \"style\": props.style\n      }, rootAttrs, inputProps, {\n        \"focused\": isFocused.value\n      }), {\n        ...slots,\n        default: _ref2 => {\n          let {\n            id,\n            isDisabled,\n            isDirty,\n            isReadonly,\n            isValid\n          } = _ref2;\n          return _createVNode(VField, _mergeProps({\n            \"ref\": vFieldRef,\n            \"onMousedown\": onControlMousedown,\n            \"onClick\": onControlClick,\n            \"onClick:clear\": onClear,\n            \"onClick:prependInner\": props['onClick:prependInner'],\n            \"onClick:appendInner\": props['onClick:appendInner'],\n            \"role\": \"textbox\"\n          }, fieldProps, {\n            \"id\": id.value,\n            \"active\": isActive.value || isDirty.value,\n            \"dirty\": isDirty.value || props.dirty,\n            \"disabled\": isDisabled.value,\n            \"focused\": isFocused.value,\n            \"error\": isValid.value === false\n          }), {\n            ...slots,\n            default: _ref3 => {\n              let {\n                props: {\n                  class: fieldClass,\n                  ...slotProps\n                }\n              } = _ref3;\n              const inputNode = _withDirectives(_createVNode(\"input\", _mergeProps({\n                \"ref\": inputRef,\n                \"value\": model.value,\n                \"onInput\": onInput,\n                \"autofocus\": props.autofocus,\n                \"readonly\": isReadonly.value,\n                \"disabled\": isDisabled.value,\n                \"name\": props.name,\n                \"placeholder\": props.placeholder,\n                \"size\": 1,\n                \"type\": props.type,\n                \"onFocus\": onFocus,\n                \"onBlur\": blur\n              }, slotProps, inputAttrs), null), [[_resolveDirective(\"intersect\"), {\n                handler: onIntersect\n              }, null, {\n                once: true\n              }]]);\n              return _createVNode(_Fragment, null, [props.prefix && _createVNode(\"span\", {\n                \"class\": \"v-text-field__prefix\"\n              }, [props.prefix]), slots.default ? _createVNode(\"div\", {\n                \"class\": fieldClass,\n                \"data-no-activator\": \"\"\n              }, [slots.default(), inputNode]) : cloneVNode(inputNode, {\n                class: fieldClass\n              }), props.suffix && _createVNode(\"span\", {\n                \"class\": \"v-text-field__suffix\"\n              }, [props.suffix])]);\n            }\n          });\n        },\n        details: hasDetails ? slotProps => _createVNode(_Fragment, null, [slots.details?.(slotProps), hasCounter && _createVNode(_Fragment, null, [_createVNode(\"span\", null, null), _createVNode(VCounter, {\n          \"active\": props.persistentCounter || isFocused.value,\n          \"value\": counterValue.value,\n          \"max\": max.value\n        }, slots.counter)])]) : undefined\n      });\n    });\n    return forwardRefs({}, vInputRef, vFieldRef, inputRef);\n  }\n});\n//# sourceMappingURL=VTextField.mjs.map"],"names":["activeTypes","makeVTextFieldProps","propsFactory","__spreadValues","makeVInputProps","makeVFieldProps","VTextField","genericComponent","Intersect","focused","val","props","_ref","attrs","emit","slots","model","useProxiedModel","isFocused","focus","blur","useFocus","counterValue","computed","_a","max","onIntersect","isIntersecting","entries","_b","vInputRef","ref","vFieldRef","inputRef","isActive","onFocus","onControlMousedown","e","onControlClick","onClear","nextTick","callEvent","onInput","el","caretPosition","useRender","hasCounter","hasDetails","rootAttrs","inputAttrs","filterInputAttrs","VInput","_","inputProps","__objRest","fieldProps","filterFieldProps","_createVNode","_mergeProps","$event","__spreadProps","_ref2","id","isDisabled","isDirty","isReadonly","isValid","VField","_ref3","fieldClass","slotProps","inputNode","_withDirectives","_resolveDirective","_Fragment","cloneVNode","VCounter","forwardRefs"],"mappings":"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","x_google_ignoreList":[0]}