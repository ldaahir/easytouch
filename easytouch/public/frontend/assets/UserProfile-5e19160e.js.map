{"version":3,"file":"UserProfile-5e19160e.js","sources":["../../../../frontend/src/layouts/components/UserProfile.vue"],"sourcesContent":["<script setup>\nimport { PerfectScrollbar } from 'vue3-perfect-scrollbar'\nimport { initialAbility } from '@/plugins/casl/ability'\nimport { useAppAbility } from '@/plugins/casl/useAppAbility'\n\nconst router = useRouter()\nconst ability = useAppAbility()\nconst userData = JSON.parse(localStorage.getItem('userData') || 'null')\n\nconst logout = () => {\n\n  // Remove \"userData\" from localStorage\n  localStorage.removeItem('userData')\n\n  // Remove \"accessToken\" from localStorage\n  localStorage.removeItem('accessToken')\n  router.push('/login').then(() => {\n\n    // Remove \"userAbilities\" from localStorage\n    localStorage.removeItem('userAbilities')\n\n    // Reset ability to initial ability\n    ability.update(initialAbility)\n  })\n}\n\nconst userProfileList = [\n  { type: 'divider' },\n  {\n    type: 'navItem',\n    icon: 'tabler-user',\n    title: 'Profile',\n    to: {\n      name: 'apps-user-view-id',\n      params: { id: 21 },\n    },\n  },\n  {\n    type: 'navItem',\n    icon: 'tabler-settings',\n    title: 'Settings',\n    to: {\n      name: 'pages-account-settings-tab',\n      params: { tab: 'account' },\n    },\n  },\n  {\n    type: 'navItem',\n    icon: 'tabler-credit-card',\n    title: 'Billing',\n    to: {\n      name: 'pages-account-settings-tab',\n      params: { tab: 'billing-plans' },\n    },\n    badgeProps: {\n      color: 'error',\n      content: '3',\n    },\n  },\n  { type: 'divider' },\n  {\n    type: 'navItem',\n    icon: 'tabler-lifebuoy',\n    title: 'Help',\n    to: { name: 'pages-help-center' },\n  },\n  {\n    type: 'navItem',\n    icon: 'tabler-currency-dollar',\n    title: 'Pricing',\n    to: { name: 'pages-pricing' },\n  },\n  {\n    type: 'navItem',\n    icon: 'tabler-help',\n    title: 'FAQ',\n    to: { name: 'pages-faq' },\n  },\n  { type: 'divider' },\n  {\n    type: 'navItem',\n    icon: 'tabler-logout',\n    title: 'Logout',\n    onClick: logout,\n  },\n]\n</script>\n\n<template>\n  <VBadge\n    dot\n    bordered\n    location=\"bottom right\"\n    offset-x=\"3\"\n    offset-y=\"3\"\n    color=\"success\"\n  >\n    <VAvatar\n      class=\"cursor-pointer\"\n      :color=\"!(userData && userData.avatar) ? 'primary' : undefined\"\n      :variant=\"!(userData && userData.avatar) ? 'tonal' : undefined\"\n    >\n      <VImg\n        v-if=\"userData && userData.avatar\"\n        :src=\"userData.avatar\"\n      />\n      <VIcon\n        v-else\n        icon=\"tabler-user\"\n      />\n\n      <!-- SECTION Menu -->\n      <VMenu\n        activator=\"parent\"\n        width=\"230\"\n        location=\"bottom end\"\n        offset=\"14px\"\n      >\n        <VList>\n          <VListItem>\n            <template #prepend>\n              <VListItemAction start>\n                <VBadge\n                  dot\n                  location=\"bottom right\"\n                  offset-x=\"3\"\n                  offset-y=\"3\"\n                  color=\"success\"\n                  bordered\n                >\n                  <VAvatar\n                    :color=\"!(userData && userData.avatar) ? 'primary' : undefined\"\n                    :variant=\"!(userData && userData.avatar) ? 'tonal' : undefined\"\n                  >\n                    <VImg\n                      v-if=\"userData && userData.avatar\"\n                      :src=\"userData.avatar\"\n                    />\n                    <VIcon\n                      v-else\n                      icon=\"tabler-user\"\n                    />\n                  </VAvatar>\n                </VBadge>\n              </VListItemAction>\n            </template>\n\n            <VListItemTitle class=\"font-weight-medium\">\n              {{ userData.fullName || userData.username }}\n            </VListItemTitle>\n            <VListItemSubtitle>{{ userData.role }}</VListItemSubtitle>\n          </VListItem>\n\n          <PerfectScrollbar :options=\"{ wheelPropagation: false }\">\n            <template\n              v-for=\"item in userProfileList\"\n              :key=\"item.title\"\n            >\n              <VListItem\n                v-if=\"item.type === 'navItem'\"\n                :to=\"item.to\"\n                @click=\"item.onClick && item.onClick()\"\n              >\n                <template #prepend>\n                  <VIcon\n                    class=\"me-2\"\n                    :icon=\"item.icon\"\n                    size=\"22\"\n                  />\n                </template>\n\n                <VListItemTitle>{{ item.title }}</VListItemTitle>\n\n                <template\n                  v-if=\"item.badgeProps\"\n                  #append\n                >\n                  <VBadge v-bind=\"item.badgeProps\" />\n                </template>\n              </VListItem>\n\n              <VDivider\n                v-else\n                class=\"my-2\"\n              />\n            </template>\n          </PerfectScrollbar>\n        </VList>\n      </VMenu>\n      <!-- !SECTION -->\n    </VAvatar>\n  </VBadge>\n</template>\n"],"names":["router","useRouter","ability","useAppAbility","userData","userProfileList","initialAbility"],"mappings":"ozBAKA,MAAAA,EAAAC,EAAA,EACAC,EAAAC,EAAA,EACAC,EAAA,KAAA,MAAA,aAAA,QAAA,UAAA,GAAA,MAAA,EAmBAC,EAAA,CACA,CAAA,KAAA,SAAA,EACA,CACA,KAAA,UACA,KAAA,cACA,MAAA,UACA,GAAA,CACA,KAAA,oBACA,OAAA,CAAA,GAAA,EAAA,CACA,CACA,EACA,CACA,KAAA,UACA,KAAA,kBACA,MAAA,WACA,GAAA,CACA,KAAA,6BACA,OAAA,CAAA,IAAA,SAAA,CACA,CACA,EACA,CACA,KAAA,UACA,KAAA,qBACA,MAAA,UACA,GAAA,CACA,KAAA,6BACA,OAAA,CAAA,IAAA,eAAA,CACA,EACA,WAAA,CACA,MAAA,QACA,QAAA,GACA,CACA,EACA,CAAA,KAAA,SAAA,EACA,CACA,KAAA,UACA,KAAA,kBACA,MAAA,OACA,GAAA,CAAA,KAAA,mBAAA,CACA,EACA,CACA,KAAA,UACA,KAAA,yBACA,MAAA,UACA,GAAA,CAAA,KAAA,eAAA,CACA,EACA,CACA,KAAA,UACA,KAAA,cACA,MAAA,MACA,GAAA,CAAA,KAAA,WAAA,CACA,EACA,CAAA,KAAA,SAAA,EACA,CACA,KAAA,UACA,KAAA,gBACA,MAAA,SACA,QA1EA,IAAA,CAGA,aAAA,WAAA,UAAA,EAGA,aAAA,WAAA,aAAA,EACAL,EAAA,KAAA,QAAA,EAAA,KAAA,IAAA,CAGA,aAAA,WAAA,eAAA,EAGAE,EAAA,OAAAI,CAAA,CACA,CAAA,CACA,CA4DA,CACA"}