var y=(m,a,t)=>new Promise((r,l)=>{var e=n=>{try{i(t.next(n))}catch(o){l(o)}},c=n=>{try{i(t.throw(n))}catch(o){l(o)}},i=n=>n.done?r(n.value):Promise.resolve(n.value).then(e,c);i((t=t.apply(m,a)).next())});import{k as v,n as A,Z as w}from"./frappe-ui-b8f10d89.js";import{a as d,d as B,s as x,b as C,n as V}from"./easing-512405f0.js";import{J as q}from"./index-e43e3799.js";const L=q()({name:"VDialogTransition",props:{target:Object},setup(m,a){let{slots:t}=a;const r={onBeforeEnter(e){e.style.pointerEvents="none",e.style.visibility="hidden"},onEnter(e,c){return y(this,null,function*(){var g;yield new Promise(s=>requestAnimationFrame(s)),yield new Promise(s=>requestAnimationFrame(s)),e.style.visibility="";const{x:i,y:n,sx:o,sy:p,speed:f}=$(m.target,e),h=d(e,[{transform:`translate(${i}px, ${n}px) scale(${o}, ${p})`,opacity:0},{}],{duration:225*f,easing:B});(g=E(e))==null||g.forEach(s=>{d(s,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*f,easing:x})}),h.finished.then(()=>c())})},onAfterEnter(e){e.style.removeProperty("pointer-events")},onBeforeLeave(e){e.style.pointerEvents="none"},onLeave(e,c){return y(this,null,function*(){var g;yield new Promise(s=>requestAnimationFrame(s));const{x:i,y:n,sx:o,sy:p,speed:f}=$(m.target,e);d(e,[{},{transform:`translate(${i}px, ${n}px) scale(${o}, ${p})`,opacity:0}],{duration:125*f,easing:C}).finished.then(()=>c()),(g=E(e))==null||g.forEach(s=>{d(s,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*f,easing:x})})})},onAfterLeave(e){e.style.removeProperty("pointer-events")}};return()=>m.target?v(w,A({name:"dialog-transition"},r,{css:!1}),t):v(w,{name:"dialog-transition"},t)}});function E(m){var t;const a=(t=m.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:t.children;return a&&[...a]}function $(m,a){const t=m.getBoundingClientRect(),r=V(a),[l,e]=getComputedStyle(a).transformOrigin.split(" ").map(b=>parseFloat(b)),[c,i]=getComputedStyle(a).getPropertyValue("--v-overlay-anchor-origin").split(" ");let n=t.left+t.width/2;c==="left"||i==="left"?n-=t.width/2:(c==="right"||i==="right")&&(n+=t.width/2);let o=t.top+t.height/2;c==="top"||i==="top"?o-=t.height/2:(c==="bottom"||i==="bottom")&&(o+=t.height/2);const p=t.width/r.width,f=t.height/r.height,h=Math.max(1,p,f),g=p/h||0,s=f/h||0,u=r.width*r.height/(window.innerWidth*window.innerHeight),P=u>.12?Math.min(1.5,(u-.12)*10+1):1;return{x:n-(l+r.left),y:o-(e+r.top),sx:g,sy:s,speed:P}}export{L as V};
//# sourceMappingURL=dialog-transition-478eb809.js.map
